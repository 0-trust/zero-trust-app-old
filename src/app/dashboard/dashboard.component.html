<!-- <lib-ngx-mxgraph></lib-ngx-mxgraph> -->

<div class="flex flex-col w-full h-full">
  <div *ngIf="!noWorkspace; else nil_workspace" class="py-2">

    <!-- Project List -->
    <!-- <div *ngIf="currentWorkspace"
      class="z-10 grid w-full grid-cols-12 pt-2 text-sm font-semibold text-center text-blue-600">
      <div class="bg-blue-200 ">Grade</div>
      <div class="bg-purple-200 ">Score</div>
      <div class="col-span-5 bg-blue-200">Severity</div>
      <div class="col-span-5 text-left bg-purple-200">Project</div>
    </div>
    <div *ngIf="currentWorkspace" class="relative flex flex-col w-full overflow-y-auto h-96">

      <div *ngFor="let proj of currentWorkspace.ProjectSummaries"
        class="z-10 bg-gradient-to-r from-purple-100 to-indigo-100">
        <a [routerLink]="['/project-detail', proj.ID]" class="z-0 text-sm min-w-max">
          <div class="z-10 grid grid-cols-12 hover:bg-blue-300 ">
            <div class="font-semibold text-center text-blue-600"><span
                *ngIf="proj.LastScanSummary.AdditionalInfo">{{proj.LastScore.Grade}}</span></div>
            <div class="font-semibold text-center text-blue-600"> <span
                *ngIf="proj.LastScanSummary.AdditionalInfo">{{trimDecimal(proj.LastScore.Metric)}} </span>
            </div>
            <div class="col-span-5">
              <div *ngIf="proj.LastScanSummary.AdditionalInfo;else not_scanned" class="flex justify-center">
                <div class="grid grid-cols-2">
                  <span
                    class="inline-block px-2 text-xs font-semibold tracking-wide text-gray-100 uppercase bg-purple-600">
                    Critical</span>
                  <span
                    class="ml-2 text-xs font-semibold text-purple-800">{{valueOrZero(proj.LastScanSummary.AdditionalInfo.criticalCount)}}</span>
                </div>


                <div class="grid grid-cols-2">
                  <span
                    class="inline-block px-2 text-xs font-semibold tracking-wide text-gray-100 uppercase bg-red-600">
                    High</span>
                  <span
                    class="ml-2 text-xs font-semibold text-purple-800">{{valueOrZero(proj.LastScanSummary.AdditionalInfo.highCount)}}</span>
                </div>

                <div class="grid grid-cols-2">
                  <span
                    class="inline-block px-2 text-xs font-semibold tracking-wide text-gray-100 uppercase bg-yellow-600">
                    Med</span>
                  <span
                    class="ml-2 text-xs font-semibold text-purple-800">{{valueOrZero(proj.LastScanSummary.AdditionalInfo.mediumCount)}}</span>
                </div>

                <div class="grid grid-cols-2">
                  <span
                    class="inline-block px-2 text-xs font-semibold tracking-wide text-gray-100 uppercase bg-blue-600">
                    Low</span>
                  <span
                    class="ml-2 text-xs font-semibold text-purple-800">{{valueOrZero(proj.LastScanSummary.AdditionalInfo.lowCount)}}</span>
                </div>

                <div class="grid grid-cols-2">
                  <span
                    class="inline-block px-2 text-xs font-semibold tracking-wide text-gray-100 uppercase bg-green-600">
                    Info</span>
                  <span
                    class="ml-2 text-xs font-semibold text-purple-800">{{valueOrZero(proj.LastScanSummary.AdditionalInfo.infoCount)}}</span>
                </div>
              </div>
            </div>
            <div class="col-span-5 pl-1.5 text-gray-800">{{proj.Name}}</div>
          </div>
        </a>
      </div>
    </div> -->



  </div>

  <ng-template #nil_workspace>
    <div class="flex flex-col items-center w-full h-full text-xl text-blue-600">
      <div>
        No Results Yet! Create a project first!
      </div>

      <div class="absolute w-48 overflow-hidden bg-white rounded-lg shadow top-1/2 left-1/2 sm:h-96 md:h-auto">
        <div class="flex w-full text-lg text-center bg-blue-800">
          <p class="py-4 pl-2 text-base lg:pl-6 text-blue-50">Create New Project</p>
        </div>
        <div class="z-0 flex flex-col items-center justify-center h-32 min-h-full pb-6 sm:pb-12">
          <a [routerLink]="['/project-setup']" class="flex text-6xl text-blue-900">+</a>
          <a [routerLink]="['/project-setup']" class="flex text-blue-900">Add project</a>
        </div>
      </div>
    </div>
  </ng-template>
</div>
